# テストコードの方針について説明できる

以下のドキュメントを読んだ上で、問に答えてください。

- [【初心者向け】テストコードの方針を考える（何をテストすべきか？どんなテストを書くべきか？）](https://qiita.com/jnchito/items/2a5d3e15761fd413657a)
- [テストがうまくいかないプロジェクトに捧ぐ、正しいテストの考え方](https://qiita.com/geshi/items/74ed21615e1ba2ad539d)

## 1. テストコードの目的

なぜテストコードを書くのか、自分の言葉で説明してください。

- バグの検出：プロダクトのリリース前に手作業と目視でテストすることには限界があるため、テストコードを書き、意図した通りに動作しているか確認する。これによりバグを早期発見し、修正することが可能
- ドキュメンテーション：テストコードにコードを書いた人の意図や頭の中にある仕様を明示的に盛り込むことで、それぞれの関数やメソッドが何をすべきなのか、どのように使うべきか他の人が見ても理解できるようになり、ドキュメントの代わりになる。
- 変更後の確認：Railsやライブラリをアップデートした後、リファクタリングを行った後など何か変更があった後にテストがパスすれば、変更後もプログラムが正しく動作することが確認できる。

## 2. テストコードの対象

テストコードを書くべき対象は何か、自分の言葉で説明してください。
- システムのメインとなる部分：サービスの中心となる部分でバグを起こさせない、また、メイン部分はコードの複雑さが増す可能性が高いのでバグが発生する可能性が高いため。
- セキュリティ部分：権限管理など
- 不具合があると致命的な部分：個人情報（メール送信先等）、決済関連
- 明らか自動化した方が速い部分：アカウント作成時のロジックやシステム日時に依存するロジックなど
- 例外処理：例外処理のバグでさらに例外が発生すると、元の例外処理が失われる

## 3. テストコードの対象外

テストコードを書く必要のない対象は何か、自分の言葉で説明してください。
- 外部ライブラリやフレームワーク：それ自体が十分にテストされていると想定する。自分のコードが正しくフレームワーク等を利用できているかを確認すべき
- シンプルな部分：アプリケーションの基礎的な部分は他のテストコードを書いているうちに自然とテストできている。

## 4. テストコードを書くときに意識すべきこと

テストコードを書くときに意識すべき重要なことについて、自分の言葉で説明してください。

- 抜け漏れがない、必要最小限のテスト項目を抽出する。
- データの更新や削除を伴うテストを書く場合は、before/afterの両方を検証する。（afterだけ検証して満足しないこと）
- 上から下に、素直に読み下せるテストコードを書く
- テストコード全体がなるべく１画面に収まるようにする
- 複雑なテストコードのデメリットを理解する。
